(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))f(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&f(l)}).observe(document,{childList:!0,subtree:!0});function u(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function f(t){if(t.ep)return;t.ep=!0;const n=u(t);fetch(t.href,n)}})();function P(i,c){let u=i,f=c,t=0;function n(){return u}function l(){return`${u} - ${f}`}function d(){t++}function C(){return t}function m(){return f==="bot"}return{getMarker:n,getName:l,upScore:d,getScore:C,isBot:m}}const g=function(){let i=["","","","","","","","",""];function c(){return i}function u(l,d){i[d]=l}function f(l){return i[l]===""}function t(){i=["","","","","","","","",""]}function n(l){let d=[];return l.forEach((C,m)=>{C===""&&d.push(m)}),d}return{getBoardState:c,placeMarker:u,isLegalMove:f,clearBoard:t,getEmptyCells:n}}(),r=function(){let i,c=[],u,f=0,t={},n;function l(e){if(g.isLegalMove(e)){if(g.placeMarker(n.getMarker(),e),d(g.getBoardState(),n.getMarker())){C();return}else if(g.getEmptyCells(g.getBoardState()).length===0){m();return}n=n===t.player1?t.player2:t.player1}}function d(e,s){let q=0;const D=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(const I of D){q=0,c=[];for(const S of I){if(e[S]===s)q++;else break;if(q===3)return c=I,!0}}return!1}function C(){u=n,n.upScore()}function m(){u="draw",f++}function h(){let e=0;do e=Math.floor(Math.random()*9);while(!g.isLegalMove(e));return e}function k(e,s){return B(e,s).index}function B(e,s,q,D,I){if(s.isBot()&&d(e,s.getMarker()))return{score:1};if(g.getEmptyCells(e).length===0)return{score:0};if(!s.isBot()&&d(e,s.getMarker()))return{score:-1};const S=g.getEmptyCells(e),w=[];let _=null;for(let y=0;y<S.length;y++){const a={};if(a.index=S[y],e[S[y]]=s.getMarker(),s.isBot()){const G=B(e,p().isBot()?M():p());a.score=G.score}else{const G=B(e,p().isBot()?p():M());a.score=G.score}e[S[y]]="",w.push(a)}if(s.isBot()){let y=-1/0;for(let a=0;a<w.length;a++)w[a].score>y&&(y=w[a].score,_=a)}else{let y=1/0;for(let a=0;a<w.length;a++)w[a].score<y&&(y=w[a].score,_=a)}return w[_]}function L(){if(!v())return;let e;switch(i){case"easy":e=h();break;case"hard":e=k(g.getBoardState(),n);break}setTimeout(()=>{R.handleCellChange(e)},500)}function O(){n=p()}function E(){g.clearBoard(),c=[],O(),u=""}function X(e,s){s?(i=s,e==="X"?(r.getPlayers().player1=new P("X","player"),r.getPlayers().player2=new P("O","bot")):(r.getPlayers().player1=new P("O","player"),r.getPlayers().player2=new P("X","bot"))):e==="X"?(r.getPlayers().player1=new P("X","player"),r.getPlayers().player2=new P("O","player")):(r.getPlayers().player1=new P("O","player"),r.getPlayers().player2=new P("X","player")),O()}function v(){return n.isBot()}function N(){return u}function b(){return n}function x(){return c}function W(){return f}function p(){return t.player1.getMarker()==="X"?t.player1:t.player2}function M(){return t.player1.getMarker()==="O"?t.player1:t.player2}function T(){return t}function o(e){i=e}return{playRound:l,getWinner:N,getCurrentPlayer:b,resetGame:E,isCurrentPlayerBot:v,aiMakeMove:L,getWinningCells:x,getDrawCount:W,getOPlayer:M,getXPlayer:p,getPlayers:T,setCurrentPlayer:O,setBotDifficulty:o,initializePlayers:X}}(),R=function(){const i=document.querySelectorAll(".cell"),c=document.querySelector("[data-Xplayer-wins]"),u=document.querySelector("[data-Xplayer-name]"),f=document.querySelector("[data-Oplayer-wins]"),t=document.querySelector("[data-Oplayer-name]"),n=document.querySelector("[data-draw-wins]"),l=document.querySelectorAll(".reset-game"),d=document.querySelector(".quit"),C=document.querySelector("[data-currentplayer-name]"),m=document.querySelector(".end-of-round"),h=m.querySelector("[data-Game-winner-name]"),k=document.querySelector(".game-start"),B=k.querySelector(".start-button"),L=document.querySelector("form");document.addEventListener("DOMContentLoaded",()=>{M()}),k.addEventListener("keydown",o=>{o.preventDefault()}),i.forEach(o=>o.addEventListener("click",()=>{r.isCurrentPlayerBot()||(v(o.dataset.cellid),r.aiMakeMove())})),l.forEach(o=>o.addEventListener("click",()=>{m.close(),W(),p()})),d.addEventListener("click",()=>{M(),m.close(),W()}),B.addEventListener("click",()=>{const o=T(L,"marker"),e=T(L,"difficulty");r.initializePlayers(o,e),p()});function O(){c.innerText=r.getXPlayer().getScore(),f.innerText=r.getOPlayer().getScore(),n.innerText=r.getDrawCount()}function E(){u.innerText=r.getXPlayer().getName(),t.innerText=r.getOPlayer().getName()}function X(){C.innerText=r.getCurrentPlayer().getName()}function v(o){r.getWinner()||(r.playRound(o),N())}function N(){i.forEach((o,e)=>{o.dataset.marker=g.getBoardState()[e],!r.isCurrentPlayerBot()&&!r.getWinner()?o.dataset.currentmarker=r.getCurrentPlayer().getMarker():o.dataset.currentmarker="",o.classList.remove("winning-cell-X"),o.classList.remove("winning-cell-O")}),r.getWinner()&&(O(),b()),X()}function b(){i.forEach(o=>{r.getWinningCells().includes(+o.dataset.cellid)&&o.classList.add(`winning-cell-${r.getWinner().getMarker()}`)}),setTimeout(()=>{x()},1500)}function x(){r.getWinner()==="draw"?(h.innerText="It is a draw",h.className="light-500"):r.getWinner().getMarker()==="X"?(h.innerText=`${r.getWinner().getName()} wins the round`,h.className="green-400"):(h.innerText=`${r.getWinner().getName()} wins the round`,h.className="orange-400"),m.showModal()}function W(){r.resetGame(),N()}function p(){E(),N(),r.isCurrentPlayerBot()&&r.aiMakeMove()}function M(){k.showModal()}function T(o,e){return o.querySelector(`input[name=${e}]:checked`).value}return{handleCellChange:v}}();
